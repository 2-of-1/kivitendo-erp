<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>2.10. OpenDocument-Vorlagen</title><link rel="stylesheet" type="text/css" href="style.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1-RC2"><link rel="home" href="index.html" title="Lx-Office: Installation, Konfiguration, Entwicklung"><link rel="up" href="ch02.html" title="Kapitel 2. Installation und Grundkonfiguration"><link rel="prev" href="ch02s09.html" title="2.9. Drucken mit Lx-Office"><link rel="next" href="ch02s11.html" title="2.11. Konfiguration zur Einnahmenüberschussrechnung/Bilanzierung: EUR"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.10. OpenDocument-Vorlagen</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s09.html">Zurück</a>&nbsp;</td><th width="60%" align="center">Kapitel 2. Installation und Grundkonfiguration</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch02s11.html">Weiter</a></td></tr></table><hr></div><div class="sect1" title="2.10. OpenDocument-Vorlagen"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="OpenDocument-Vorlagen"></a>2.10. OpenDocument-Vorlagen</h2></div></div></div><p>Lx-Office unterstützt die Verwendung von Vorlagen im
      OpenDocument-Format, wie es OpenOffice.org ab Version 2 erzeugt.
      Lx-Office kann dabei sowohl neue OpenDocument-Dokumente als auch aus
      diesen direkt PDF-Dateien erzeugen. Um die Unterstützung von
      OpenDocument-Vorlagen zu aktivieren muss in der Datei
      <code class="filename">config/lx_office.conf</code> die Variable
      <code class="literal">opendocument</code> im Abschnitt
      <code class="literal">print_templates</code> auf &#8216;<code class="literal">1</code>&#8217; stehen.
      Dieses ist die Standardeinstellung.</p><p>Weiterhin muss in der Datei
      <code class="filename">config/lx_office.conf</code> die Variable
      <code class="literal">dbcharset</code> im Abschnitt <code class="literal">system</code> auf
      die Zeichenkodierung gesetzt werden, die auch bei der Speicherung der
      Daten in der Datenbank verwendet wird. Diese ist in den meisten Fällen
      "UTF-8".</p><p>Während die Erzeugung von reinen OpenDocument-Dateien keinerlei
      weitere Software benötigt, wird zur Umwandlung dieser Dateien in PDF
      OpenOffice.org benötigt. Soll dieses Feature genutzt werden, so muss
      neben OpenOffice.org ab Version 2 auch der &#8220;X virtual frame buffer&#8221;
      (xvfb) installiert werden. Bei Debian ist er im Paket &#8220;xvfb&#8221; enthalten.
      Andere Distributionen enthalten ihn in anderen Paketen.</p><p>Nach der Installation müssen in der Datei
      <code class="filename">config/lx_config.conf</code> zwei weitere Variablen
      angepasst werden: <code class="literal">openofficeorg_writer</code> muss den
      vollständigen Pfad zur OpenOffice.org Writer-Anwendung enthalten.
      <code class="literal">xvfb</code> muss den Pfad zum &#8220;X virtual frame buffer&#8221;
      enthalten. Beide stehen im Abschnitt
      <code class="literal">applications</code>.</p><p>Zusätzlich gibt es zwei verschiedene Arten, wie Lx-Office mit
      OpenOffice kommuniziert. Die erste Variante, die benutzt wird, wenn die
      Variable <code class="literal">$openofficeorg_daemon</code> gesetzt ist, startet
      ein OpenOffice, das auch nach der Umwandlung des Dokumentes gestartet
      bleibt. Bei weiteren Umwandlungen wird dann diese laufende Instanz
      benutzt. Der Vorteil ist, dass die Zeit zur Umwandlung deutlich
      reduziert wird, weil nicht für jedes Dokument ein OpenOffice gestartet
      werden muss. Der Nachteil ist, dass diese Methode Python und die
      Python-UNO-Bindings benötigt, die Bestandteil von OpenOffice 2
      sind.</p><p>Ist <code class="literal">$openofficeorg_daemon</code> nicht gesetzt, so
      wird für jedes Dokument OpenOffice neu gestartet und die Konvertierung
      mit Hilfe eines Makros durchgeführt. Dieses Makro muss in der
      Dokumentenvorlage enthalten sein und
      &#8220;Standard.Conversion.ConvertSelfToPDF()&#8221; heißen. Die Beispielvorlage
      &#8216;<code class="literal">templates/mastertemplates/German/invoice.odt</code>&#8217;
      enthält ein solches Makro, das in jeder anderen Dokumentenvorlage
      ebenfalls enthalten sein muss.</p><p>Als letztes muss herausgefunden werden, welchen Namen
      OpenOffice.org Writer dem Verzeichnis mit den Benutzereinstellungen
      gibt. Unter Debian ist dies momentan
      <code class="literal">~/.openoffice.org2</code>. Sollte der Name bei Ihrer
      OpenOffice.org-Installation anders sein, so muss das Verzeichnis
      <code class="literal">users/.openoffice.org2</code> entsprechend umbenannt werden.
      Ist der Name z.B. einfach nur <code class="literal">.openoffice</code>, so wäre
      folgender Befehl auszuführen:</p><p>
            <code class="literal">mv users/.openoffice.org2
      users/.openoffice</code>
         </p><p>Dieses Verzeichnis, wie auch das komplette
      <code class="literal">users</code>-Verzeichnis, muss vom Webserver beschreibbar
      sein. Dieses wurde bereits erledigt (siehe <a class="xref" href="ch02s02.html" title="2.2. Manuelle Installation des Programmpaketes">Manuelle Installation des Programmpaketes</a>), kann aber
      erneut überprüft werden, wenn die Konvertierung nach PDF
      fehlschlägt.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s09.html">Zurück</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch02.html">Nach oben</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch02s11.html">Weiter</a></td></tr><tr><td width="40%" align="left" valign="top">2.9. Drucken mit Lx-Office&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Zum Anfang</a></td><td width="40%" align="right" valign="top">&nbsp;2.11. Konfiguration zur Einnahmenüberschussrechnung/Bilanzierung:
      EUR</td></tr></table></div></body></html>